<!DOCTYPE html> 
<html> 
	<head> 
	<title>Page Title</title> 
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.0a3/jquery.mobile-1.0a3.min.css" />
	<script type="text/javascript" src="http://code.jquery.com/jquery-1.4.3.min.js"></script>
	<script type="text/javascript" src="http://code.jquery.com/mobile/1.0a3/jquery.mobile-1.0a3.min.js"></script>
	<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=UTF-8">
</head> 
<body> 

<div data-role="page" id="rate_ranking">

	<div data-role="header">
		<h1>デマレート順表示</h1>
	</div>

	<div data-role="content">
		<ul data-role="listview" id="rate_entry_list">
		</ul>
	</div>

	<div data-role="footer">
		<h4>Page Footer</h4>
	</div>
	
<script type="text/javascript">
$(function(){
	// search API call
	
	var results = { "status": "success",
			  "tweets": [
			             { "tweet_id": 1234567889,
				               "text": "地震雲が各地に大量に出ているので、3月中に富士山が噴火するという噂がある。",
					           "user": {
					                "name": "mtoyoshi",
					                "id": 12349,
					                "screen_name": "mtoyoshi",
					                "followers_count": 11,
					            },
					            "dema_count": 1091,
					            "non_dema_count": 2,
					            "dema_score": 99.8    // 1091 / (1091 + 2)
				             },
			             { "tweet_id": 123456789,
			                "text": "東電に勤めてる知り合いによると、いま放射能が大量に出てきて作業している人が逃げ出したらしい",
			                "user": {
			                    "name": "nitoyon",
			                    "id": 12345,
			                    "screen_name": "nitoyon",
			                    "followers_count": 28,
			                },
			                "dema_count": 3,
			                "non_dema_count": 2,
			                "dema_score": 0.6    // 3 / (3 + 2)
			             }
			         ] 
			       };

	var entryList = $('#rate_entry_list');
	
	for(var i=0; i<results.tweets.length; i++) {
		var tweet = results.tweets[i];
		
		var li = $('<li></li>').
			append($('<h2></h2>').text(tweet.text)).
			append($('<p></p>').text(tweet.user.name + "(" + tweet.user.screen_name +")")).
			append($('<h2 style="color:red;"></h2>').text('デマ：' + tweet.dema_count)).
			append($('<h2 style="color:blue;"></h2>').text('デマじゃない：' + tweet.non_dema_count));

		entryList.append(li);
	}

	entryList.listview('refresh');	// 最後に更新
});
</script>
	
</div>

</body>
</html>